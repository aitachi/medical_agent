---
name: symptom-analyzer
description: 分析用户症状，提供医学知识参考。使用场景：用户描述身体不适、询问症状原因、需要健康建议时。调用MCP工具medical_knowledge_query获取医学知识。
disable-model-invocation: false
allowed-tools: MCPClient
---

# 症状分析 Skill

当用户描述身体不适或询问症状相关信息时，使用此Skill。

## 触发条件

- 用户描述身体症状（如"我头痛"、"最近一直咳嗽"）
- 询问症状可能的原因
- 询问某症状应该注意什么
- 询问某症状挂什么科

## 处理流程

### 1. 提取症状信息

从用户输入中提取：
- 症状名称（如：头痛、发热、咳嗽）
- 身体部位（如：头部、腹部、胸部）
- 持续时间
- 严重程度
- 伴随症状

### 2. 调用MCP工具

使用 `medical_knowledge_query` 工具查询：

```
参数:
  query_type: "symptom"
  keyword: <症状名称>
```

### 3. 生成响应

根据返回的医学知识，生成结构化响应：

```markdown
## 关于【症状名称】

**症状描述**: {description}

**常见原因**:
- {cause_1}
- {cause_2}
- ...

**⚠️ 危险信号**（如有以下情况请立即就医）:
- {red_flag_1}
- {red_flag_2}
- ...

**建议科室**: {department}

**自我护理建议**:
- {care_1}
- {care_2}
- ...
```

### 4. 添加安全提示

始终在响应末尾添加：

> ⚠️ **免责声明**: 以上信息仅供参考，不能替代专业医疗诊断。如有严重症状或持续不适，请及时就医。

## 示例对话

**用户**: 我头痛好几天了

**分析过程**:
1. 识别症状: 头痛
2. 提取信息: 持续时间=几天
3. 调用MCP: medical_knowledge_query(symptom=头痛)
4. 生成响应

**响应**:
关于【头痛】...

## 注意事项

- 不要给出确定性诊断
- 遇到红旗征症状时，强调就医建议
- 保持语气专业、关切
- 不推荐具体药物
